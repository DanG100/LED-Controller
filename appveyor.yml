init:
 - set QTDIR=C:\Qt\5.7\mingw53_32
 - set PATH=%PATH%;%QTDIR%\bin;C:\MinGW\bin
 - ps: iex ((new-object net.webclient).DownloadString('https://raw.githubusercontent.com/appveyor/ci/master/scripts/enable-rdp.ps1'))
 
build_script:
  - qmake LED-Controller.pro
  - mingw32-make

deploy:
  release: LEDController-v$(APPVEYOR_REPO_TAG_NAME)
  description: 'Auto-generated release'
  provider: GitHub
  auth_token:
    secure: VtuiEw6NXRRYgPkzk+EHYxBu4T5I+7hATgUnMYvA5zR0CnywuDF/gUp0sfxXv+Vx # your encrypted token from GitHub
  artifact: /release/LED-Controller.exe
  draft: true
  prerelease: true
  on:
    branch: master                 # release from master branch only
    appveyor_repo_tag: true        # deploy on tag push only
